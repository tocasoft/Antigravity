# 1. Prevent Apache from generating redirects using the internal IP/Port
DirectorySlash Off
UseCanonicalName Off

# 2. Add a debug header to verify .htaccess is being read
<IfModule mod_headers.c>
    Header set X-Debug-Htaccess "Active"
</IfModule>

# Enable Rewrite Engine
RewriteEngine On

# 3. Force HTTPS (Hostinger/LiteSpeed usually sets X-Forwarded-Proto)
RewriteCond %{HTTP:X-Forwarded-Proto} !https [NC]
RewriteCond %{HTTPS} off
RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# 4. Force Domain Name (Fix for IP showing up)
RewriteCond %{HTTP_HOST} !^test\.geniusdevelops\.com$ [NC]
RewriteRule ^(.*)$ https://test.geniusdevelops.com/$1 [L,R=301]

# 5. Handle Root URL explicitly (Internal Rewrite, NO Redirect)
RewriteRule ^/?$ index.html [L]

# 3. URL Masking Examples (kept for reference)
RewriteRule ^prueba$ index.html [L]
